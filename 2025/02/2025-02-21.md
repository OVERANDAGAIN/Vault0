---
åˆ›å»ºæ—¶é—´: 2025-äºŒæœˆ-21æ—¥  æ˜ŸæœŸäº”, 12:20:13 ä¸­åˆ
---
æ‚¨å¥½ï¼Œæˆ‘å¯¹æ‚¨çš„è¿™ç¯‡å·¥ä½œå¾ˆæ„Ÿå…´è¶£ï¼Œæˆ‘åœ¨OpenViewä¸­çš„Supplementary Materialä¸­çœ‹åˆ°äº†OMGçš„ç›¸å…³ä»£ç ã€‚æˆ‘çš„ç–‘é—®æ˜¯ï¼šå¦‚ä½•è¿›è¡Œæ•´ä¸ªè®­ç»ƒçš„è¿‡ç¨‹ï¼Ÿ
åœ¨Readme.mdä¸­æœ‰è¿™æ ·çš„è¯ï¼šâ€œ- `--obs_is_state` just for pretrain VAEâ€ï¼Œä½†æ˜¯SMACç¯å¢ƒè¿”å›çš„ obs/stateç»´åº¦ä¸Šæœ‰å·®å¼‚ï¼ˆ80/168ï¼‰ã€‚ç„¶è€Œä»£ç ä¸­ä¼¼ä¹æ²¡æœ‰ç›¸å…³çš„å¤„ç†ã€‚


```python
python main.py --config=7iql1iql_omg --multi_algs --env-config=sc2 with env_args.map_name=8m --mac=multi_module_mac --train_alg=iql_omg --learner=omg_learner --is_agent_shift=True --chenkpoint_path=SMAC/sacred/models --subgoal_mode=True --load_step=10002334
```

æ‚¨å¥½ï¼Œæˆ‘å¯¹æ‚¨çš„è¿™ç¯‡å·¥ä½œå¾ˆæ„Ÿå…´è¶£ï¼Œæˆ‘åœ¨OpenViewä¸­çš„Supplementary Materialä¸­çœ‹åˆ°äº†OMGçš„ç›¸å…³ä»£ç å¹¶å­¦ä¹ äº†ä¸€ä¸‹ã€‚
æˆ‘çš„ä¸¤ä¸ªç–‘é—®æ˜¯å…³äºå¦‚ä½•è¿›è¡Œæ•´ä¸ªè®­ç»ƒçš„è¿‡ç¨‹çš„ï¼š

é¦–å…ˆï¼Œåœ¨Readme.mdä¸­æœ‰è¿™æ ·çš„è¯ï¼šâ€œ- `--obs_is_state` just for pretrain VAEâ€ ï¼Œä½†æ˜¯æ ¹æ® `obs_is_state` çš„True/False, SMACç¯å¢ƒè¿”å›ä¸åŒçš„ get_state/get_obsç»´åº¦ä¸Šæœ‰å·®å¼‚{æ¯”å¦‚8mä¸­å‰è€…æ˜¯ (168,) åè€…æ˜¯ (8,80) ï¼Œå‰è€…æ‰©å±• n_agents åä»ç„¶ä¼šä¸ä¸€è‡´ }ã€‚æ¯•ç«Ÿå…³äºopponentçš„stateæ˜¯éƒ¨åˆ†è§‚æµ‹çš„obs, è€Œvaeæ˜¯å…¨è§‚æµ‹ä¸‹çš„ï¼Œå› æ­¤ cvae å’Œ vae çš„è¾“å‡ºç»´åº¦ä¼šæœ‰å·®å¼‚ã€‚æ‰€ä»¥æ‚¨æ˜¯å¦‚ä½•å¤„ç†ä¸ä¸€è‡´æ€§çš„ï¼Ÿ

å…¶æ¬¡ï¼Œâ€œinteract with opponents to collect states and train vae â€ æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿæˆ‘çš„ç†è§£æ˜¯loadè®­ç»ƒå¥½çš„opponentsæƒé‡åå†è¿›è¡Œvaeçš„è®­ç»ƒã€‚

ä¸‹é¢æ˜¯æˆ‘æ‰§è¡Œçš„ç›¸å…³å‘½ä»¤ï¼Œä¸çŸ¥é“æ˜¯å¦æ­£ç¡®ã€‚

1. å…ˆè®­ç»ƒopponent:  
 ```bash
python main.py --config=iql  --env-config=sc2 with env_args.map_name=8m
```
   
1. å†åŠ è½½ `agent.th` è¿›è¡Œé¢„è®­ç»ƒ 
```bash
   python main.py --config=iql  --env-config=sc2 with env_args.map_name=8m --mac=basic_mac --am_model=omg_am --learner=am_learner --obs_is_state=True --init_param_path=SMAC/sacred/models/qmix__2025-02-11_13-42-21/33
   ```
   or åˆ›å»º op_model æ–‡ä»¶å¤¹ç»Ÿä¸€ç®¡ç†ï¼ˆä¸‹å†åˆ›å»º 8m åœ°å›¾åï¼‰ ==obs_is_stateçš„å€¼å‰ååº”è¯¥ä¸€è‡´ï¼Œéƒ½ä¸ºtrue or false==
```bash
python main.py --config=iql  --env-config=sc2 with env_args.map_name=8m --mac=basic_mac --am_model=omg_am --learner=am_learner --obs_is_state=True --init_param_path=SMAC/sacred/op_model
```
1.   è®­ç»ƒCVAE: `vae.th` å­˜æ”¾åœ¨ `iql_omg` ä¸­
```bash
 python main.py --config=7iql1iql_omg --multi_algs --env-config=sc2 with env_args.map_name=8m --mac=multi_module_mac --train_alg=iql_omg --learner=omg_learner --is_agent_shift=True --init_param_path=SMAC/sacred/op_model --subgoal_mode=True
```


ä»¥ä¸‹æ˜¯æ¶¦è‰²åçš„æé—®ï¼Œæ›´åŠ æµç•…å’Œä¸“ä¸šï¼š  

---

**ä¸»é¢˜ï¼šå…³äºOMGè®­ç»ƒè¿‡ç¨‹çš„å‡ ä¸ªé—®é¢˜**  

æ‚¨å¥½ï¼Œ  

æˆ‘å¯¹æ‚¨åœ¨è¿™ç¯‡å·¥ä½œä¸­æå‡ºçš„æ–¹æ³•éå¸¸æ„Ÿå…´è¶£ï¼Œå¹¶åœ¨OpenViewçš„Supplementary Materialä¸­é˜…è¯»å¹¶å­¦ä¹ äº†OMGçš„ç›¸å…³ä»£ç ã€‚é’ˆå¯¹æ•´ä¸ªè®­ç»ƒæµç¨‹ï¼Œæˆ‘æœ‰ä¸¤ä¸ªç–‘é—®ï¼Œå¸Œæœ›èƒ½å‘æ‚¨è¯·æ•™ã€‚  

1. åœ¨ `Readme.md` ä¸­æåˆ°ï¼šâ€œ`--obs_is_state` just for pretrain VAEâ€ã€‚ç„¶è€Œï¼Œæ ¹æ® `obs_is_state` å–å€¼ä¸º `True/False`ï¼ŒSMAC ç¯å¢ƒåœ¨ `get_state/get_obs` è¿”å›çš„ç»´åº¦ä¸Šå­˜åœ¨å·®å¼‚ï¼ˆä¾‹å¦‚ï¼Œåœ¨ `8m` ä»»åŠ¡ä¸­ï¼Œ`obs_is_state=True` æ—¶çš„ç»´åº¦ä¸º `(168,)`ï¼Œè€Œ `obs_is_state=False` æ—¶çš„ç»´åº¦ä¸º `(8,80)`ï¼Œå³ä½¿æ‰©å±•åˆ° `n_agents` ç»´åº¦ï¼ŒäºŒè€…ä»ç„¶ä¸ä¸€è‡´ï¼‰ã€‚ç”±äºopponentçš„stateæ˜¯åŸºäºéƒ¨åˆ†è§‚æµ‹çš„ `obs`ï¼Œè€ŒVAEçš„è¾“å…¥æ˜¯å…¨è§‚æµ‹çš„ï¼Œå› æ­¤ `CVAE` å’Œ `VAE` çš„è¾“å‡ºç»´åº¦ä¹Ÿå­˜åœ¨å·®å¼‚ã€‚è¯·é—®åœ¨æ‚¨çš„å®ç°ä¸­ï¼Œå¦‚ä½•å¤„ç†è¿™ç§ä¸ä¸€è‡´æ€§ï¼Ÿ  

2. å…³äºâ€œinteract with opponents to collect states and train VAEâ€ï¼Œå…·ä½“æ˜¯å¦‚ä½•å®ç°çš„å‘¢ï¼Ÿæˆ‘çš„ç†è§£æ˜¯ï¼Œå…ˆåŠ è½½è®­ç»ƒå¥½çš„ opponent æƒé‡ï¼Œç„¶åå†è¿›è¡Œ VAE çš„è®­ç»ƒï¼Œä¸çŸ¥é“è¿™æ ·æ˜¯å¦æ­£ç¡®ï¼Ÿ  

æ­¤å¤–ï¼Œæˆ‘æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤è¿›è¡Œäº†è®­ç»ƒï¼Œä¸ç¡®å®šæ˜¯å¦ç¬¦åˆæ‚¨çš„æ–¹æ³•ï¼š  

1. **è®­ç»ƒ Opponent**  
   ```bash
   python main.py --config=iql --env-config=sc2 with env_args.map_name=8m
   ```
   
2. **åŠ è½½ `agent.th` è¿›è¡Œé¢„è®­ç»ƒ**  
   ```bash
   python main.py --config=iql --env-config=sc2 with env_args.map_name=8m --mac=basic_mac --am_model=omg_am --learner=am_learner --obs_is_state=True --init_param_path=SMAC/sacred/models/qmix__2025-02-11_13-42-21/33
   ```
   æˆ–è€…ï¼Œä¸ºäº†æ›´å¥½åœ°ç®¡ç† `op_model`ï¼Œå¯ä»¥åˆ›å»ºå¯¹åº”åœ°å›¾åç§°çš„å­æ–‡ä»¶å¤¹ï¼ˆä¾‹å¦‚ `8m`ï¼‰ï¼š  
   ```bash
   python main.py --config=iql --env-config=sc2 with env_args.map_name=8m --mac=basic_mac --am_model=omg_am --learner=am_learner --obs_is_state=True --init_param_path=SMAC/sacred/op_model
   ```
   **ï¼ˆè¯·é—® `obs_is_state` çš„å–å€¼å‰åæ˜¯å¦éœ€è¦ä¿æŒä¸€è‡´ï¼Œå³éƒ½ä¸º `True` æˆ– `False`ï¼Ÿï¼‰**  

3. **è®­ç»ƒ CVAE**ï¼ˆ`vae.th` å­˜æ”¾åœ¨ `iql_omg` ç›®å½•ä¸‹ï¼‰ï¼š  
   ```bash
   python main.py --config=7iql1iql_omg --multi_algs --env-config=sc2 with env_args.map_name=8m --mac=multi_module_mac --train_alg=iql_omg --learner=omg_learner --is_agent_shift=True --init_param_path=SMAC/sacred/op_model --subgoal_mode=True
   ```
  
æœŸå¾…æ‚¨çš„è§£ç­”ï¼Œéå¸¸æ„Ÿè°¢ï¼  

---

è¿™æ ·è°ƒæ•´åï¼Œè¯­è¨€æ›´åŠ æ­£å¼ä¸”æ¸…æ™°ï¼Œé€»è¾‘ç»“æ„ä¹Ÿæ›´ç´§å‡‘ï¼ŒåŒæ—¶ç¡®ä¿é—®é¢˜è¡¨è¾¾ç²¾å‡†ã€‚ä½ å¯ä»¥ç›´æ¥ä½¿ç”¨è¿™å°é‚®ä»¶æˆ–ä¿¡æ¯å»è”ç³»ä½œè€…ã€‚ğŸ˜Š