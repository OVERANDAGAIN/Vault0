---
创建时间: 2025-七月-22日  星期二, 4:20:38 下午
---

### 状态转移建模

#### 公式：

$$
P(o_i^{t+1} \mid o_i^t, a_{-i}^t, a_i^t)
$$

> 给定当前观测 $o_i^t$、自身动作 $a_i^t$ 与对手动作 $a_{-i}^t$，
> 预测可能到达的下一状态 $o_i^{t+1}$ 的分布。
> 该模型承担“简化版模拟器”的作用，用于支撑后续的动作规划。

---

### 动作规划目标

#### 公式：

$$
a_i^{t*} = \arg\max_{a_i^t} \sum_{o_i^{t+1}} P(o_i^{t+1} \mid o_i^t, a_{-i}^t, a_i^t) \cdot V(o_i^{t+1})
$$


> 对每一个候选动作 $a_i^t$，
> 通过状态转移模型获得一组可能的未来状态，
> 并对它们进行价值评估，计算期望值。
> 最终选择使期望价值最大的动作 $a_i^{t*}$。




---


## ✅ 第一部分：关于 goal 的选择 —— 表达能力与泛化能力的双重要求

在我们的方法中，goal 并非直接从环境中显式定义，而是作为一个**中间推断变量**，用于概括对手的潜在行为目标或策略类型。为了在复杂对手行为下实现稳健建模与有效规划，我们认为 goal 的设计需同时满足以下两个核心要求：

---

### 1. **可区分性（Discriminability）**：支持对多种对手策略的清晰区分

* goal 表示应具有**足够的表达能力**，能够捕捉并划分对手的行为类型。
* 特别是在面对多样化策略（如 nearest-hare、nearest-stag、随机、混合策略等）时，goal 应能反映其内在的策略动机或目标导向模式。
* 换言之，goal 的语义应对应于“策略类别”或“行为目标”，而非仅仅是动作序列或短期行为的压缩。

---

### 2. **泛化能力（Generalizability）**：具备应对未见策略（OOD）的推断能力

* 在实际交互过程中，agent 可能遭遇训练阶段未见的对手策略组合或行为模式。
* 因此，goal 表示应具有**一定的结构归纳能力**，能够在新的行为模式下仍保持稳定的语义空间定位。
* 一个泛化性良好的 goal 能够提升模型对新对手的适应速度，支持更高效的预测与规划。

---

### 3. **推理机制建议（可选）**

* 可基于对手观测轨迹 $\tau_j = \{o_j^t, a_j^t\}_{t=1}^T$ 构建 goal encoder；
* 结合 contrastive learning、clustering loss 等辅助信号提升 goal 的表示质量；
* 在系统中，goal 可以作为条件输入（context）调制 MOA 或策略模块，进一步提升适应性。

---

### 总结性陈述（可用于段末）：

> 因此，我们不将 goal 视为静态变量或固定标签，而是一个具备行为区分性与语义泛化能力的**任务上下文表示（contextual goal embedding）**，其质量将直接影响整个模型对对手的理解深度与响应效率。
