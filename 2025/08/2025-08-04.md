---
创建时间: 2025-八月-4日  星期一, 12:19:26 中午
---

# 在8\*8下测试

![[plot_2025-08-04 12-27-37_150.png]]



![[plot_2025-08-04 12-27-37_160.png]]

![[plot_2025-08-04 12-27-37_161.png]]

![[plot_2025-08-04 12-27-37_162.png]]


---


![[plot_2025-08-04 12-27-37_181.png]]

![[plot_2025-08-04 12-27-37_182.png]]

![[plot_2025-08-04 12-27-37_183.png]]


---
## 添加reward

![[plot_2025-08-04 14-39-57_150.png]]



![[plot_2025-08-04 14-39-57_129.png]]

![[plot_2025-08-04 14-39-57_130.png]]

![[plot_2025-08-04 14-39-57_131.png]]

---




![[plot_2025-08-04 14-39-57_147.png]]

![[plot_2025-08-04 14-39-57_148.png]]

![[plot_2025-08-04 14-39-57_149.png]]

---



## 分析


* `block` 是静态不变的（channel 2）；
* `stag/hare` 在被捕前可能静止（channel 3/4）；
* 唯一频繁变化的是 `agent` 的位置（channel 0-1）；

### 为什么 loss 很低但预测不准

* 静态元素占据空间大，且数值稳定（全 0 or 1）；
* 少数 agent 的位置信息被“淹没”在整体 loss 里；
* 移动 agent 的位置变化小（一步 1 pixel），对 loss 影响极小；
* 多数时间 agent 是“空白移动”，目标区域 sparsity 高 → 容易过拟合 background；

---

### 捕猎预测更准的原因

* 捕猎时，agent 与 hare/stag 同时从 `1 → 0`，位置消失，**这个变化非常显著**；
* 捕猎状态可视为 “稀疏目标突然消失”，模型较容易记忆或学习；
* 但移动只是一格挪动，背景几乎不变，预测难度大，但 loss 却低（因为大多数像素不变）；


---

## 优化

###  **agent-centric loss（聚焦 agent 区域）**



![[plot_2025-08-04 15-01-47_150.png]]






![[plot_2025-08-04 15-01-47_129.png]]

![[plot_2025-08-04 15-01-47_130.png]]

![[plot_2025-08-04 15-01-47_131.png]]


---





![[plot_2025-08-04 15-01-47_132.png]]

![[plot_2025-08-04 15-01-47_133.png]]

![[plot_2025-08-04 15-01-47_134.png]]

---




![[plot_2025-08-04 15-01-47_78.png]]

![[plot_2025-08-04 15-01-47_79.png]]

![[plot_2025-08-04 15-01-47_80.png]]


---




![[plot_2025-08-04 15-01-47_114.png]]

![[plot_2025-08-04 15-01-47_115.png]]


![[plot_2025-08-04 15-01-47_116.png]]



# 部分观测环境

![[plot_2025-08-04 15-45-28_135.png]]



