---
创建时间: 2025-十月-27日  星期一, 3:22:30 下午
---

```ad-tip
* `next_obs_raw["actions"]` 的顺序是**全局顺序** `[player_1, player_2, player_3, player_4]`（且包含自己）。这是在 `__action__` 里按 `self.players` 顺序拼出来的。
* 但 `observation` 的玩家通道顺序**被旋转过**：`__obs_state__(id)` 会把**“自己”旋到通道 0**（ego-first），顺序变成 `[self, 下一个, …]`。
```

## World_Model

> 主要对 **world_model 的动作输入和模型容量**做了调整：
> 一是把动作输入从单一动作改为“自动作 + 对手动作”并统一为 **ego-first 格式**，同时使用 one-hot 编码方式；
> 二是 **增大了隐藏层维度和 latent 表征大小**


![[calibration_scatter 1.png]]


![[calibration_hist 1.png]]



![[triplet_ego_024.png]]

![[triplet_ego_005.png]]
![[triplet_ego_013.png]]



经过动作输入重构与隐藏维度扩大后，world_model 的动态一致性和状态预测精度提升，较少出现 agent 或猎物的“消失/错位”现象，输出更稳定。

---








## 2Stag 4Hare
### player_1 个体奖励

![[Pasted image 20251027154253.png]]


### moa预测情况

![[Pasted image 20251027154307.png]]


## Self-play


![[Pasted image 20251027155112.png]]




vaule function : 数据，return

value_loss 60 : too large 

