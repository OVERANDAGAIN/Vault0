---
创建时间: 2025-十二月-2日  星期二, 9:19:20 上午
---
# 计网小组作业
# 分工
1.公式1-12，图1-4，Table1
2.公式13-25，图5-8
3.公式26-37，图9-13
4.ppt+pre



# Motivation
缺乏系统性的数学模型分析，尤其是当 链路中断时间较长、随机发生时，LTP 的性能如何？


#  **《A Study of DTN for Reliable Data Delivery From  Space Station to Ground Station》名词 / 概念总结表**

| 类别           | 名词                        | 全称 / 定义                   | 在论文中的作用                       |           |
| ------------ | ------------------------- | ------------------------- | ----------------------------- | --------- |
| **通信方向**     | **Downlink（下行）**          | ISS → Ground（空间站到地面站）     | 发送**数据段 RDS**和**CP**；中断时破坏最大  |           |
|              | **Uplink（上行）**            | Ground → ISS（地面站到空间站）     | 发送**RS**、**RA**（反馈/确认）；中断影响较小 |           |
| **LTP 数据单元** | **RDS**                   | Red Data Segment          | 实际数据内容，需**可靠**送达              |           |
|              | **CP**                    | Checkpoint Segment        | 表示“一块数据发送完”，触发 RS；丢失代价极大      |           |
|              | **RS**                    | Report Segment            | 收方对 RDS 的“接收报告”               | 通知哪些数据段丢失 |
|              | **RA / ACK**              | Report Acknowledgment     | 发送方对 RS 的确认                   | 支持可靠反馈机制  |
| **链路状态**     | **Link Disruption（链路中断）** | 某时间段内链路完全不可用              | 论文分析的主角；影响重传机制                |           |
|              | **T_break（中断时长）**         | 中断持续时间                    | 越长重传越多，呈线性+阶梯式增长              |           |
| **误码与信道**    | **BER**                   | Bit Error Rate（比特误码率）     | 决定数据损坏概率，导致随机丢包               |           |
|              | **ρ_seg, ρ_cp, ρ_rs**     | Segment 的误码概率             | 用公式表示 BER 对不同类型段的影响           |           |
| **LTP 机制**   | **RTO（重传超时）**             | Retransmission Timeout    | 失去 RS/CP 后等待的超时时间             |           |
|              | **Towlt**                 | One-way Light Time 一向传播时延 | 由 ISS → GEO → Ground 决定       |           |
| **论文 Case**  | **Case 1（下行中断）**          | 中断打在 ISS→Ground 方向        | CP/RDS丢失 → 代价最大               |           |
|              | **Case 1-A**              | 中断发生在普通数据段期间              | 需要一次额外重传轮                     |           |
|              | **Case 1-B**              | 中断发生在 CP 期间               | 会多次触发 RTO，最严重                 |           |
|              | **Case 2（上行中断）**          | 中断打在 Ground→ISS 方向        | RS/ACK丢失 → 代价较小               |           |
| **数学量/符号**   | **$T_{RTT}$**             | 正常情况下一个 block 的往返时间       | 基线性能指标                        |           |
|              | **$T'_{RTT}$**            | 中断情况下的 RTT                | 模型输出之一                        |           |
|              | **$T_{break-affect}$**    | 中断对传输时间造成的额外影响            | 核心理论结果                        |           |
|              | **$T_{file-delivery}$**   | 文件总传输时间                   | 模型+实验对比的重点                    |           |
|              | **Goodput**               | 有效吞吐率                     | 文件大小 / 总时间                    |           |
|              | **$T_{seg}$、$T_{block}$** | Segment/block 传输时间        | 用于推导重传成本                      |           |
| **通信架构**     | **GEO Relay**             | 三颗 GEO 卫星接力下行             | 产生覆盖空洞 → 触发中断                 |           |
|              | **BP**                    | Bundle Protocol           | LTP 上层，不在本文重点                 |           |
|              | **ION DTN Stack**         | NASA 的 DTN 实验协议栈          | 全文实验平台                        |           |
| **研究方法**     | **理论建模**                  | 精确推导 T_break-affect 等     | Section IV 主要工作               |           |
|              | **实验验证**                  | 使用真实 ION 仿真空间链路           | Section V、VI                  |           |



---


# **论文内容结构总结表**

| 章节                              | 内容                                                    | 功能                                            |
| ------------------------------- | ----------------------------------------------------- | --------------------------------------------- |
| **I. Introduction**             | 深空/空间通信存在中断、长时延；DTN/LTP关键性                            | 引出研究空缺：缺少“中断影响的理论模型”                          |
| **II. LTP Mechanisms**          | RDS/CP/RS/RA可靠传输流程                                    | 为建模做准备                                        |
| **III. ISS-TDRSS Architecture** | 解释为什么空间站链路会中断                                         | 说明中断的真实背景                                     |
| **IV. Analytical Models（核心）**   | 数学推导：<br>➤ Case 1 下行中断<br>➤ Case 2 上行中断<br>➤ BER + 中断 | **论文重点**：得到 $T_{break-affect}$、$T_{file}$ 等公式 |
| **V. Experiment Setup**         | 使用 NASA ION 模拟真实空间链路                                  | 准备验证模型                                        |
| **VI. Results**                 | 图 6、10、11、12：模型 vs 实验高度吻合                             | 定量证明模型正确                                      |
| **VII. Conclusion**             | 中断越长、越早、打在下行→代价越大                                     | 研究启示与未来方向                                     |

---




---

# **B. Modeling the Joint Effect of Link Disruption and Channel Error

设信道的比特误码率（BER）为 **p**。
记：

* 数据段（data segment）的长度为 **$L_{Seg}$**
* RS 的长度为 **$L_{RS}$**
* CP 的长度为 **$L_{CP}$**

三者单位均为 **bytes**。

那么，一个给定的传输 segment（任意 RDS/CP/RS）遭受传输错误的概率可写为：

$$\rho_{Seg} = 1 - (1 - p)^{8 \times L_{Seg}} \tag{24}$$

同理，RS 与 CP segment 的传输错误概率可写为：

$$\rho_{RS} = 1 - (1 - p)^{8 \times L_{RS}} \tag{25}$$

$$\rho_{CP} = 1 - (1 - p)^{8 \times L_{CP}} \tag{26}$$

---

平均传输次数（average number of total transmission attempts），
即发送方为了成功传输一个 block 所需的重传次数，记为 **n**。
该值根据我们先前的信道传输条件模型可得（公式源于参考文献 [22]）：

$$n =
\left\lceil
\log_{\rho_{Seg}}
\left(
\frac{1}{N_{Seg} \times (1 - \rho_{Seg})}
\right)
\right\rceil \tag{27}$$

其中 $N_{Seg}$ 表示构成整个 LTP block 的数据段数量。

---

在空间站通信中（space station communications），
文件的传输时延（file delivery time）可估算为：

$$T_{file-delivery}
=

T_{Seg-total}
+
T_{CP-wait}
+
T_{RS-wait}
+
T_{delay-total}
+
T_{break-affect} \tag{28}$$

其中：

* $T_{Seg-total}$：所有数据段（包括重传）的总传输时间
* $T_{CP-wait}$：由于 CP 段误码导致的 RTO 等待时间（不包括由链路中断导致的 CP 重传）
* $T_{RS-wait}$：由于 RS 段误码导致的 RTO 等待时间（不包括链路中断导致的 RS 重传）
* $T_{delay-total}$：所有段（包括重传）在传播时延上的累计总和
* $T_{break-affect}$：链路中断所带来的额外文件传输时间影响

下面依次推导上述五个部分。

---

# 🔹 **1) $T_{Seg-total}$**：数据段传输总时延

设：

* 文件总共拆分成 (N_{Seg-total}) 个数据段
* 这些 segment 由多个 session 聚合组成

其数量可写为：

$$N_{Seg-total}
=

 N_{block} \times N_{Seg}
=
\left\lceil \frac{L_{file}}{L_{bundle}} \right\rceil
\times
\left( \frac{N_{Seg}}{m \times N_{session}} \right)
\tag{29}$$

其中：

* $N_{block}$：文件被分成的 block 数
* $L_{file}$：文件大小
* $L_{bundle}$：每个 bundle 聚合的数据大小
* $N_{session}$：用于文件传输的 LTP session 数量
* $m$：每个 bundle 聚合的数据 block 数量

---

如果我们假设文件中所有数据段的传输次数（attempts）服从几何分布，
则 **给定数据段的期望传输次数**
在 BER 为 $\rho_{Seg}$ 的信道中为：

$$\left( \frac{1}{1 - \rho_{Seg}} \right)$$

因此，成功传输全部数据段的总时间可写为：

$$T_{Seg-total}
=

\frac{L_{Seg}}{Rb_{data}}
\times
N_{Seg-total}
\times
\frac{1}{1 - \rho_{Seg}}
\tag{30}$$

其中 $Rb_{data}$ 是数据传输速率。

---

# 🔹 **2) $T_{delay-total}$**：传播时延累计

由公式 (27) 可知，成功传输一个 block 需要 **n 次传输尝试（attempts）**。
假设每个 block 的传输互不依赖。

已知每个 session 内实际传输的 block 数为 (N_{block})，
则文件的传播时延（包含 RS 的传播时间）为：

$$T_{delay-total}
=

N_{block}
\times
n
\times
(2T_{owlt} + T_{RS})
\tag{31}$$

---

# 🔹 **3) $T_{CP-wait}$**：CP 引起的 RTO 等待时间

由于 CP 段也可能被误码破坏，其期望传输次数同样为：

$$\left( \frac{1}{1-\rho_{CP}} \right)$$

因此 CP 引起的总等待时间为：

$$T_{CP-wait}
=

\left(
\frac{1}{1 - \rho_{CP}} - 1
\right)
\times
N_{block}
\times
n
\times
T_{RTO-CP}
\tag{32}$$

这里 $T_{RTO-CP}$ 为 CP 的超时重传等待时间。

---

# 🔹 **4) (T_{RS-wait})**：RS 引起的 RTO 等待时间

同理，RS 的期望传输次数为：

$$\left( \frac{1}{1-\rho_{RS}} \right)$$

因此 RS 引起的等待时间为：

$$T_{RS-wait}
=

\left(
\frac{1}{1 - \rho_{RS}} - 1
\right)
\times
N_{block}
\times
n
\times
T_{RTO-RS}
\tag{33}$$

---

# 🔹 **5) $T_{break-affect}$**：链路中断造成的额外开销

如前文所述（Case 1 / Case 2 的推导），
当部分数据段因链路中断被破坏后，恢复链路后需要重新传输这些段，其耗时为：

$$T_{break-affect}
=

T_{break}
+
T'_{block}
\tag{34}$$

其中：

* $T_{break}$：链路中断持续时间
* $T'_{block}$：恢复后重新传输丢失 segments 的时间（公式见 IV-A 部分）

---

此外：

* 由链路中断导致的 CP 重传次数 **$N_{CP}$**
  已由公式 (13) 给出
* 由链路中断导致的 RS 重传次数 **$N_{RS}$**
  已由公式 (20) 给出

链路中断 + 信道误码的综合时间影响可写为（公式 (35)，位于原文下一页底部）。

---

将公式 (30)–(34) 代入 (28)，
即可得到包含 BER（p）的文件传输总时间：

$$T_{file-delivery} = \dots \tag{36}$$

（原文公式 36 在下一页，此处保持引用格式一致。）

---

最后，得到文件传输的 **goodput**（有效吞吐率）：

$$\gamma_{Goodput}
=

\frac{L_{file}}{T_{file-delivery}}
\tag{37}$$

---


