---
åˆ›å»ºæ—¶é—´: 2025-åæœˆ-7æ—¥  æ˜ŸæœŸäºŒ, 10:16:45 æ™šä¸Š
---
[[Alice in Differentiable Wonderland]]
p89

![[Pasted image 20251007221729.png]]

![[Pasted image 20251007221748.png]]


è¿™ä¸ªåœ°æ–¹çš„ **â€œrankâ€** å’Œ **çº¿æ€§ä»£æ•°é‡ŒçŸ©é˜µçš„ç§©**ä¸æ˜¯ä¸€ä¸ªæ„æ€ï¼Œå®ƒæŒ‡çš„æ˜¯ **å¼ é‡çš„é˜¶ (tensor rank, ä¹Ÿå« order)**ï¼Œä¹Ÿå°±æ˜¯â€œæœ‰å¤šå°‘ä¸ªç»´åº¦ï¼ˆè½´ï¼Œaxesï¼‰â€ã€‚

---

## ğŸ”¹ æ¨å¯¼è¿‡ç¨‹

1. **è¾“å…¥å’Œè¾“å‡ºå½¢çŠ¶**

   * è¾“å…¥ï¼š$X \in \mathbb{R}^{n \times c}$
     ï¼ˆ$n$ ä¸ªæ ·æœ¬ï¼Œæ¯ä¸ªæ ·æœ¬ $c$ ä¸ªç‰¹å¾ï¼‰
   * æƒé‡ï¼š$W \in \mathbb{R}^{c \times c'}$
   * è¾“å‡ºï¼š$Y \in \mathbb{R}^{n \times c'}$

2. **è¾“å…¥çš„ Jacobian**

   * ==Jacobian æœ¬è´¨ä¸Š==æ˜¯ $\frac{\partial \text{(è¾“å‡º)}}{\partial \text{(è¾“å…¥)}}$ã€‚
   * è¾“å‡º $Y$ æœ‰ $(n \times c')$ ä¸ªåˆ†é‡ï¼Œè¾“å…¥ $X$ æœ‰ $(n \times c)$ ä¸ªåˆ†é‡ã€‚
   * æ‰€ä»¥ä¸¥æ ¼çš„ Jacobian æ˜¯ä¸€ä¸ªå¤§çŸ©é˜µï¼š
     $$
     J_X \in \mathbb{R}^{(n \cdot c') \times (n \cdot c)}.
     $$
   * ä½†ä¹¦é‡Œä¸ºäº†ä¿æŒâ€œå¼ é‡å½¢çŠ¶â€çš„ç›´è§‚æ€§ï¼ŒæŠŠå®ƒ reshape æˆï¼š
     $$
     (n, c', n, c)
     $$
     â†’ è¡¨ç¤ºå¯¹æ¯ä¸ª $(n, c')$ è¾“å‡ºåˆ†é‡ï¼Œå¯¹åº”ä¸€ä¸ª $(n, c)$ è¾“å…¥åˆ†é‡ã€‚
   * è¿™ä¸ªå¼ é‡æœ‰ **4 ä¸ªç»´åº¦**ï¼Œæ‰€ä»¥è¯´ **rank = 4**ã€‚

3. **æƒé‡çš„ Jacobian**

   * å¯¹æƒé‡ $W \in \mathbb{R}^{c \times c'}$ æ±‚å¯¼ï¼š
     è¾“å‡º $Y \in \mathbb{R}^{n \times c'}$ã€‚
   * æ‰€ä»¥å½¢çŠ¶æ˜¯ï¼š
     $$
     (n, c', c, c')
     $$
     â†’ è¡¨ç¤ºæ¯ä¸ªè¾“å‡º $(n, c')$ å¯¹åº”æƒé‡ $(c, c')$ çš„æ¢¯åº¦ã€‚
   * åŒæ ·è¿™æ˜¯ 4 ä¸ªç»´åº¦ â†’ **rank = 4**ã€‚

---

## ğŸ”¹ ç›´è§‚ç†è§£

* **çŸ©é˜µç§© (rank)**ï¼šçº¿æ€§æ— å…³çš„è¡Œ/åˆ—æ•°ã€‚
* **å¼ é‡ rank/order**ï¼šå¤šå°‘ç»´çš„æ•°ç»„ã€‚
* è¿™é‡Œçš„ **rank=4** æ˜¯æŒ‡ Jacobian è¢« reshape æˆäº†å››ç»´å¼ é‡ã€‚

---

## ğŸ”¹ ä¸¾ä¸ªå°ä¾‹å­

å‡è®¾ï¼š

* $n=2, c=3, c'=2$
* è¾“å…¥ $X \in \mathbb{R}^{2 \times 3}$
* è¾“å‡º $Y \in \mathbb{R}^{2 \times 2}$

é‚£ä¹ˆï¼š

* è¾“å…¥ Jacobianï¼šå½¢çŠ¶ $(2,2,2,3)$ï¼Œå³ $[n, c', n, c]$
* æƒé‡ Jacobianï¼šå½¢çŠ¶ $(2,2,3,2)$ï¼Œå³ $[n, c', c, c']$
* è¿™ä¸¤ä¸ªéƒ½æ˜¯å››ç»´æ•°ç»„ â†’ rank=4ã€‚

---

