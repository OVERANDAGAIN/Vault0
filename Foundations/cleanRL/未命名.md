[[cleanRL]]

# Questions

- [?] 

```python

```

# Answers
[How to Use Poetry with Conda for Package Management on a Specific Python Version - Data Science \<3 Machine Learning](https://michhar.github.io/2023-07-poetry-with-conda/)[^2]

[è¯·ç¨å€™â€¦](https://stackoverflow.com/questions/70851048/does-it-make-sense-to-use-conda-poetry)[^1]
## GPT_Answers

```ad-warning

```


éžå¸¸å¥½ï¼ä»¥ä¸‹æ˜¯ä½ ç›®å‰ä¸ºæ­¢çš„å…¨éƒ¨æ­£ç¡®æ“ä½œæµç¨‹æ•´ç†ï¼Œ**åŸºäºŽ Conda + Poetry + PyCharm çš„æŽ¨èå®žè·µè·¯å¾„**ï¼Œé€‚ç”¨äºŽä½ å¸Œæœ›ï¼š

* ä½¿ç”¨ Conda æ¥æŒ‡å®š Python ç‰ˆæœ¬ï¼ˆå¦‚ 3.8ï¼‰
* ä½¿ç”¨ Poetry ç®¡ç†ä¾èµ–å’ŒçŽ¯å¢ƒéš”ç¦»
* ä½¿ç”¨ PyCharm å¼€å‘ä¸Žè°ƒè¯• CleanRL é¡¹ç›®

---

## âœ… CleanRL æœ¬åœ°è¿è¡Œé…ç½®å®Œæ•´æµç¨‹æ€»ç»“ï¼ˆConda + Poetry æŽ¨èæ¨¡å¼ï¼‰

---

### ðŸ§± ç¬¬ 1 æ­¥ï¼šä½¿ç”¨ Conda åˆ›å»ºæŒ‡å®š Python ç‰ˆæœ¬çš„çŽ¯å¢ƒ

```bash
conda create -n cleanrl-tst python=3.8
conda activate cleanrl-tst
```

---

### ðŸ§° ç¬¬ 2 æ­¥ï¼šå®‰è£… Poetryï¼ˆå¦‚æœªå®‰è£…ï¼‰

```bash
pip install poetry
# æˆ–æ›´æŽ¨è
curl -sSL https://install.python-poetry.org | python3 -
```

éªŒè¯ç‰ˆæœ¬ï¼š

```bash
poetry --version
```

---

### ðŸ§¼ ç¬¬ 3 æ­¥ï¼šç¡®ä¿ Poetry ä½¿ç”¨é»˜è®¤è®¾ç½®ï¼ˆéžå¸¸é‡è¦ï¼‰

æ¸…é™¤ä¹‹å‰è®¾ç½®è¿‡çš„ä¸å…¼å®¹é…ç½®ï¼ˆ**å¿…é¡»æ‰§è¡Œ**ï¼‰ï¼š

```bash
poetry config --unset virtualenvs.create
poetry config --unset virtualenvs.path
```

---

### ðŸ”§ ç¬¬ 4 æ­¥ï¼šç»‘å®šè§£é‡Šå™¨å¹¶åˆ›å»º Poetry è™šæ‹ŸçŽ¯å¢ƒ

ä½¿ç”¨ä½  Conda çŽ¯å¢ƒä¸­çš„ Python 3.8 åˆ›å»º Poetry çŽ¯å¢ƒï¼š

```bash
poetry env use D:\anaconda\envs\cleanrl-tst\python.exe
```

ä½ ä¼šçœ‹åˆ°å¦‚ä¸‹æç¤ºï¼š

```text
Creating virtualenv cleanrl-xxxxx-py3.8 in C:\Users\admin\AppData\Local\pypoetry\Cache\virtualenvs
Using virtualenv: C:\Users\admin\AppData\Local\pypoetry\Cache\virtualenvs\cleanrl-xxxxx-py3.8
```

è¯´æ˜ŽçŽ¯å¢ƒå·²æ­£ç¡®åˆ›å»ºï¼

---

### ðŸ“¦ ç¬¬ 5 æ­¥ï¼šå®‰è£…é¡¹ç›®ä¾èµ–

åœ¨ `cleanRL` é¡¹ç›®æ ¹ç›®å½•ï¼ˆåŒ…å« `pyproject.toml`ï¼‰ä¸‹è¿è¡Œï¼š

```bash
poetry install
```

è¿™å°†å®‰è£… Gymã€Torchã€Wandb ç­‰æ‰€æœ‰ä¾èµ–ã€‚

---

### ðŸ§  ç¬¬ 6 æ­¥ï¼ˆæŽ¨èï¼‰ï¼šé…ç½® PyCharm ä½¿ç”¨ Poetry åˆ›å»ºçš„è§£é‡Šå™¨

1. æ‰“å¼€ PyCharm â†’ `Settings â†’ Project â†’ Python Interpreter`
2. ç‚¹å‡»å³ä¸Šè§’ âš™ â†’ `Add Interpreter` â†’ `Existing Environment`
3. é€‰æ‹©è·¯å¾„ï¼š

```
C:\Users\admin\AppData\Local\pypoetry\Cache\virtualenvs\cleanrl-xxxxx-py3.8\Scripts\python.exe
```

4. ç‚¹å‡» OKï¼Œç­‰å¾…è§£é‡Šå™¨åŠ è½½å®Œæ¯•

---

### âœ… ç¬¬ 7 æ­¥ï¼šè¿è¡Œ CleanRL ç®—æ³•è„šæœ¬

ä¾‹å¦‚ï¼š

```bash
poetry run python cleanrl/ppo.py --env-id CartPole-v1 --total-timesteps 50000
```

æˆ–åœ¨ PyCharm ä¸­å³é”®è¿è¡Œ `cleanrl/ppo.py`ï¼Œä¹Ÿå¯é…ç½®å‚æ•°è¿è¡Œã€‚

---

## ðŸŽ¯ æ•´ä½“æž¶æž„æ€»ç»“å›¾ï¼ˆæŽ¨èæ¨¡å¼ï¼‰

```text
[Conda] â†’ ä»…æä¾› Python 3.8
         â†“
[Poetry] â†’ åˆ›å»ºå¹²å‡€è™šæ‹ŸçŽ¯å¢ƒ + ç®¡ç†ä¾èµ–
         â†“
[PyCharm] â†’ é…ç½®ä¸ºä½¿ç”¨ Poetry ç”Ÿæˆçš„è§£é‡Šå™¨
         â†“
[CleanRL é¡¹ç›®] â†’ è¿è¡Œå’Œè°ƒè¯•å¼ºåŒ–å­¦ä¹ ç®—æ³•
```

---

### ðŸ“Ž å¤‡æ³¨ï¼ˆä½ ç›®å‰çŠ¶æ€ï¼‰ï¼š

| é¡¹ç›®                     | çŠ¶æ€                                            |
| ---------------------- | --------------------------------------------- |
| Conda Python 3.8 çŽ¯å¢ƒå·²åˆ›å»º | âœ…                                             |
| Poetry å®‰è£…å¹¶é…ç½®å®Œæˆ         | âœ…                                             |
| Poetry è™šæ‹ŸçŽ¯å¢ƒåˆ›å»ºæˆåŠŸ        | âœ…                                             |
| pyproject.toml å®‰è£…æˆåŠŸ    | ðŸŽ¯ poetry install å¯ç»§ç»­è¿›è¡Œ                       |
| PyCharm å¯ç»‘å®šè§£é‡Šå™¨         | âœ… æŽ¨èç»‘å®š `.pypoetry/virtualenvs/.../python.exe` |

---



## DS_Answers


## Other_Answers


# Codes

```python

```


# FootNotes

[^1]: stack overflowè®¨è®ºconda+poetry
[^2]: å‚è€ƒæ•™ç¨‹