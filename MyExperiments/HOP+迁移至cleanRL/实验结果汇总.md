---
创建时间: 2025-十一月-23日  星期日, 2:03:31 凌晨
---
[[HOP+迁移至cleanrl]]

# 首先是MBRL下的一些结果
[[25-11]]


# DEBUG结果







![[d58ff4be-ecff-4b53-b40b-0592fa6a0862.png|475]]
![[dab22249-ed46-4a0d-9727-a2850dd8c65e.png|450]]

![[ec307b76-8f18-4f17-b69e-e3088f02da93.png|450]]


你给的三张图分别对应：

1. **原始版 logging（最少操作）**：

   > 平均每个 step ≈ **0.0004 秒**

2. **我帮你改进的较简洁版本**：

   > 平均每个 step ≈ **0.00015 秒**（已经更快）

3. **你写的复杂版（大量 add_scalars / histogram / 多次聚合运算）**：

   > 平均每个 step ≈ **0.009 秒**（慢了 **20~60 倍**）

下面正式分析三者差异。

---

# ✅ 一、三者性能差异总结表

| 版本         | logging 时间（秒/step） | 相对性能             | 主要原因                                 |
| ---------- | ------------------ | ---------------- | ------------------------------------ |
| **原始版**    | ~0.0004            | baseline         | 少量 scalar logging                    |
| **我优化的版本** | ~0.00015           | **最快**（≈3× 原始版本） | 合并 log，减少 write 次数                   |
| **你的复杂版本** | ~0.009             | **最慢（25×~60×）**  | 多重统计、histogram、多次 add_scalars、写入规模激增 |







# Limitations
# Future Work
# FootNotes